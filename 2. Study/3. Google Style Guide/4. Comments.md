# 4. Comments (주석)

> 주석은 코드를 가독성 있게 유지시킴
>
> - 최선의 코드는 Self-Documenting 이라는 것을 기억!
> - 타입과 변수 이름을 센스 있게 지으면 주석으로 설명하는 것보다 훨씬 좋음



### 1. Comment Style (주석 스타일)

> //  |  /* */ 를 사용하며, 일관성 있게 사용

- //  |  /* */ 를 사용하지만, // 을 더 많이 사용
- 어떻게 사용하고 어떤 스타일로 사용하든지 일관성 있게 사용



### 2. File Comments (파일 주석)

- 각 파일의 시작은 저작권을 게시하며, 파일 내용에 대한 설명을 기술함

###### a. Legal Notice and Author Line

> 모든 파일은 다음의 아이템을 순서대로 따름

- 저작권 문장 (Copyright Statement)
  - Copyright 2008 Google Inc

- 라이센스 어구 (License Boilerplate)
  - Apache 2.0, BSD, LGPL, GPL
- 파일의 원본 저자를 확인하기 위한 저자 (Author) 라인
  - 누군가 작성한 파일에 중요한 변화를 작성했을 경우 저자 라인에 자신을 추가함
  - 또 다른 기여자가 그 파일에 질문이 있거나, 연락할 필요가 있을 때 유용함

###### b. File Contents (파일 내용)

> 저작권과 저자에 대한 주석 다음에, 파일의 내용을 설명하는 주석을 작성

- 일반적으로 .h 파일은 파일에 선언된 함수에 대한 내용을 기술할 것
  - 무엇을 위한 것이며 어떻게 사용되는지 등등
  - 구현에 대한 세부적인 정보나 알고리즘 트릭에 관한 것을 작성



### 3. Function Comments (함수 주석)

> 선언부에 함수의 사용을 설명
>
> 정의부에서는 함수의 연산에 대해 설명

###### a. Function Declarations (함수 선언부)

- 모든 함수 선언부는 함수가 어떤 일을 하고, 어떻게 사용하는지를 설명하는 주석을 즉시 작성
  - 이런 주석은 명령형보다는 설명적이어야 함
  - 주석은 함수를 설명하되, 함수가 무엇을 하는지는 설명하지 않음
    - 함수 Task가 어떻게 수행되는지는 정의부에서 작성

- 함수 선언부에서는 다음과 같은 것을 주석으로 작성
  -  input과 output이 무엇인지
  - 멤버 함수에 대해 파라미터로 넘겨진 객체 참조자는 메소드 콜 후에도 유효한지, 객체가 free되는지.
  - 함수를 호출한 곳에서 free 해야 하는 메모리를 할당 하는지.
  - 어떤 파라미터가 NULL이 될 수 있는지.
  - 함수가 사용되는 방법에 따라 성능에 영향을 줄 수 있는지
  - 함수가 재진입(re-entrant) 되는지

###### b. Functions Definitions (함수 정의부)

- 각 함수 정의부는 함수가 무엇을 하며, 어떻게 해당 Job을 수행하는지 주석을 작성
  - 예를 들어, 정의부 주석은 코딩 트릭, 함수 구현 단계 개요, 변수를 사용하지 않고 왜 함수로 구현했는지 등을 설명
  - 혹은, 왜 함수의 전반부에서 lock을 획득하고 후반부에서 그것이 필요하지 않은지 등을 설명할 수도 있음
- 주의할 점은 함수 선언부와 중복되지 않는 내용을 작성해야함



### 4. Variable Comments (변수 주석)

> 일반적으로, 변수의 이름은 그 변수가 무엇을 위한 변수인지 충분히 설명할 수 있어야 함
>
> 특수한 경우에는 주석이 필요할 수 있기에, 필요할 경우 아래와 같은 룰을 지킴

###### a. Global Variables (전역 변수)

- 데이터 멤버처럼 모든 전역 변수는 그 변수가 무엇이고, 무엇을 위해 사용되는지를 설명하는 주석을 갖음

```c
// The total number of tests cases that we run through in this regression test.
const int kNumTestCases = 6;
```



### 5. TODO Comments (해야 할 일에 대한 주석)

> 일시적이고, 단기 솔루션, 완벽하지 않지만 충분한 코드의 경우 **TODO** 주석을 사용

- TODO는 TODO 문자열을 포함하며, 이름과 이메일 주소를 쓰거나, 괄호 내에서 다른 지시자를 씀
- 콜론은 선택사항
- 주목적은 주석을 작성하는 사람에 의해서 검색이 가능하도록 일관성있도록 작성
- TODO는 자신의 코드를 수정하기 위해서 주석을 작성하지는 않는다

```c
// TODO(kl@gmail.com): Use a "*" here for concatenation operator.
// TODO(Zeke) change this to use relations.
```

