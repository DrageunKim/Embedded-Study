# 2. Scoping



### 1. Name Spaces (네임 스페이스) -> C++ 해당됨 / C 해당되지 않음

> - .cc(.cpp) 파일에 없는 namespace를 사용함
>
> - 프로젝트나 경로를 기반으로 namespace의 이름을 정함
>
> - using 명령어를 사용하지 않음

- 정의

  - 네임스페이스는 개체를 구분할 수 있는 범위를 나타내는 말
  - 일반적으로 네임스페이스는 전역공간에서 이름 충돌을 하지 못하도록 하는데 유용

- 장점

  - 네임스페이스는 (계층적) 네임 축을 제공함
  - 예를 들어, 전역 공간에 두 개의 다른 프로젝트에 함수 Foo가 존재한다면
    - 런타임 또는 컴파일 타임시 충돌이 발생
      - 충돌을 방지하기 위해서는 각 프로젝트에 project1::Foo | project2::Foo 네임스페이스를 사용하면 됨

- 단점

  - 네임스페이스는 추가적으로 네임 축을 제곡하고 클래스에 의해 제공되는 네임 축도 포함되기 때문에 혼동될 수 있음
  - 헤더파일에 이름 없는 스페이스(UnNamed Spaces) 사용은 ODR을 위반할 여지가 있음

- 결론

  - C는 해당 되지 않고, C++에 해당되는 사항이기에 일단 패쓰

  

### 2. Nested Classes (중첩 클래스) -> C++ 해당됨 / C 해당되지 않음

>  인터페이스의 일부분으로서 Public Nested Class를 사용해도 좋지만, NameSpace가 전역 범위 외부에서 선언되어야 함

- 정의
  - 클래스는 다른 클래스 안에서 정의 될 수 있음
    - 멤버 클래스

- 장점
  - 중첨된(혹은 멤버) 클래스는 그 클래스를 감싸고 있는 클래스에 의해 내부에서만 사용될 때 유용
  - 중첩 클래스는 그 클래스를 감싸고 있는 클래스 내부에서 전방 선언될 수 있으며, 중첩 클래스 정의를 포함시키지 않기 위해 .cc(.cpp)파일에서 정의
- 단점
  - 중첩된 클래스는 그 클래스를 감싼 클래스 내부에서만 전방 선언이 가능
  - 그래서 Foo:Bar*를 조작하는 모든 헤더 파일에서 Foo를 위한 전체 선언을 include 해야 함
- 결론
  - 실제 인터페이스의 부분으로서 사용되지 않는다면 중첩 클래스를 만들지 않는다
  - C는 해당 되지 않고, C++에 해당되는 사항이기에 일단 패쓰 



### 3. Non Member, Static Member, and Global Functions (비멤버/정적멤버/전역변수)

> 전역 함수보다 NameSpace 내부 또는 정적(Static) 멤버 함수를 선호함
>
> 전역 함수는 거의 사용하지 않음

- 장점
  - 비멤버 함수와 정적 함수는 어떤 상황에서 유용하다
  - 네임스페이스 내부에서 비멤버 함수를 사용하면 전역 네임스페이스의 오염을 피할 수 있음
- 단점
  - 비멤버 함수와 정적 멤버 함수는 새로운 클래스의 멤버 함수로서 오해할 여지가 있음
  - 특히, 외부 리소스를 접근하거나 의미있는 종속성을 갖는 경우
- 결론
  - C는 해당 되지 않고, C++에 해당되는 사항이기에 일단 패쓰



### 4. Local Variables (지역 변수)

> 함수 내에서 변수는 가능한 가장 작은 범위에 놓으며, 선언과 동시에  초기화 함
>
> - 변수는 함수 내에 어디에서든 선언 가능
> - 가능한 맨 처음 변수를 사용하기 바로 전에 선언
>   - 코드를 처음 보는 사람이 변수 선언 위치를 발견하기 쉬움
>   - 어떤 타입인지 초기화가 되었는지를 쉽게 확인 할 수 있음
> - 특히, 변수는 선언 후 할당이 아닌 초기화를 사용
>
> ```c
> /* Ex - Bad */
> int i;
> i = f();
> 
> /* Ex - Good */
> int j = g();
> ```





### 5. Static and Global Variables (정적/전역 변수)

> 생성자와 소멸자의 순서가 명확하지 않기 때문에 버그를 발견하기 어려움

- 전역 변수
  - 모든 곳에서 접근이 가능하고, 프로그램 종료 전엔 메모리가 소멸되지 않는 장점이 있음
  - 잘못 사용하거나 남용할 경우 관리가 어려워질 수 있음 (유지 보수, 재사용 등)
  - 이를 보완한 것이 정적 변수
- 정적 변수 - 프로그램이 종료되기 전까지 메모리가 소멸되지 않는 변수
  - 함수를 벗어나도 변수가 사라지지 않고 유지
  - 초기화할 때 반드시 상수로 초기화 해야 함
  - 초기값을 지정하지 않으면 디폴트값 0으로 자동 초기화 됨
  - 함수의 매개변수로 사용할 수 없는 특징을 가짐
- 정적 지역변수 (Static Local Variables)
  - 중괄호 내에서만 사용할 수 있고, 한번 초기화 되면 그 이후에 함수 호출 시 값의 초기화를 무시
- 정적 전역변수 (Static Global Variables)
  - 자신이 선언된 소스 파일에서만 사용할 수 있고, 외부에서는 가져다 쓸 수 없음
    - 전역변수 앞에 Static을 붙이면 변수의 범위를 파일 범위로 제한하는 효과를 냄

